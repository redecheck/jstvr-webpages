(function(){mejs.MediaElementDefaults.pluginPath="",mejs.MediaElementDefaults.flashName="/flash/flashmediaelement.swf",$("body").on("click",".mejs-captions-selector input",function(){return setTimeout(function(t){return function(){return $("body").click()}}(this),0)})}).call(this),function(){this.Treehouse={data:window.appData?JSON.parse(window.appData):{},onFirstInit:function(t){return this.firstInitCallbacks.push(t)},firstInitCallbacks:[],onInit:function(t){return this.initCallbacks.push(t)},initCallbacks:[],init:function(){var t,e,i,r,o,s,n,a;if(!this.firstInitFired){for(s=this.firstInitCallbacks,e=0,r=s.length;r>e;e++)(t=s[e])();this.firstInitFired=!0}for(n=this.initCallbacks,a=[],i=0,o=n.length;o>i;i++)t=n[i],a.push(t());return a},cleanup:function(t){var e;return(e=Featurette.get(t.id))&&"function"==typeof e.stopListening?e.stopListening():void 0},debug:function(){return window.console?console.log(Array.prototype.slice.call(arguments)):void 0}}}.call(this),function(){Treehouse.onFirstInit(function(){return function(){var t;return t=$.cleanData,$.cleanData=function(e){var i,r,o;for(r=0,o=e.length;o>r;r++)i=e[r],$(i).trigger("removed");return t(e)}}(),$(document).on("removed","[data-featurette]",function(t){return Treehouse.cleanup(t.target)}),null==$.cookie("notbot")&&$.post("/visitors/not-bot",{_method:"PUT"}),$(document).on("click touch",".menu-toggle",function(t){return t.preventDefault(),$(t.currentTarget).toggleClass("is-checked")}),$(document).on("click",".clickonce",function(t){var e;return e=$(t.currentTarget),e.hasClass("disabled")?t.preventDefault():e.addClass("disabled")}),$(document).on("click","a[data-pjax]",function(t){var e;return t.preventDefault(),e=$(this).closest("[data-pjax-container]"),$.pjax.click(t,{container:e})}),$(document).on("pjax:end",function(){return Treehouse.init()})}),Treehouse.onInit(function(){var t;return Featurette.load(),$("html").hasClass("ie")&&$("use").each(function(t){return function(t,e){return e=$(e),e.attr("xlink:href",e.attr("xlink:href").replace(/.*.svg/,""))}}(this)),t="select, input:file",$(t).not('.editor textarea, select.drop-down, select[multiple], select[data-featurette="form-select"], select[data-featurette="department-select"], select[data-featurette="department-member-autocomplete"], .uniform-processed').uniform({autoHide:!1,fileButtonClass:"button secondary",selectClass:"form-element"}).addClass("uniform-processed"),$(".form-item label").not(".prefill, .in-field-label-processed, .ghost-form label").inFieldLabels().addClass("in-field-label-processed"),$(".autogrow").not(".autogrow-processed").autosize({append:""}).addClass("autogrow-processed"),$("input, textarea").not(".placeholder-processed").placeholder().addClass("placeholder-processed"),$(".ghost-form input, .ghost-form textarea, .ghost-form select").off("focus.ghost-form, blur.ghost-form").on("focus.ghost-form",function(){return $(this).closest(".form-item, .adjacent-form-item").addClass("filled focused")}).on("blur.ghost-form",function(){return $(this).closest(".form-item, .adjacent-form-item").removeClass("filled"),""===this.value?$(this).closest(".form-item, .adjacent-form-item").removeClass("focused"):void 0}).each(function(){return""!==this.value?$(this).closest(".form-item, .adjacent-form-item").addClass("focused"):void 0}),$(".button-toggle label input[type=radio]").change(function(){$(this).attr("name")?$(this).parent().addClass("selected").siblings().removeClass("selected"):$(this).parent().toggleClass("selected")})})}.call(this),function(){var t,e,i=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function i(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty,s=[].slice;e=function(){function t(t){var e;e=$(t).find(".tooltip").parent().find(":input"),e.focus(function(t){var e;return e=$(this).parent().find(".tooltip"),e.data("hide-on-mobile")&&$(window).width()<=480?void 0:e.fadeIn()}),e.blur(function(t){return $(this).parent().find(".tooltip").fadeOut()}),$(t).submit(function(e){return $(t).find("button#submit").html("Processing..."),$(t).find("button#submit").attr("disabled","true")})}return t}(),window.StandardForm=e,t=function(t){function e(t){this.unwrapErrors=i(this.unwrapErrors,this),this.accountForm=$(t),this.accountEmail=this.accountForm.find("#account_signup_email, #person_email, #account_signup_account_manager_email"),this.accountProfile=this.accountForm.find("#account_signup_profile_name, #person_profile_name"),this.accountName=this.accountForm.find("#account_signup_first_name, #account_signup_last_name, #person_first_name, #person_last_name"),this.accountProfileName=this.accountProfile.val(),this.currentEmail=this.accountEmail.val(),e.__super__.constructor.call(this,this.accountForm),this.accountEmail.change(function(t){return function(){return t.verifyEmailAddress()}}(this)),this.accountProfile.change(function(t){return function(){return t.verifyProfileName()}}(this)),this.accountName.change(function(t){return function(){return t.suggestProfileName()}}(this)),this.verifyEmailAddress(),this.verifyProfileName(),this.suggestProfileName(),this.ageCheck=this.accountForm.find("#account_signup_age_check"),this.ageCheck.change(function(){return"lt13"===$(this).val()?($(".above-13").hide(),$(".under-13").show()):($(".above-13").show(),$(".under-13").hide())}),this.ageCheck.change()}return r(e,t),e.prototype.verifyEmailAddress=function(){var t,e,i,r;return e=this.accountEmail,i=e.siblings("label"),t=e.val(),r=$("meta[name='csrf-token']").attr("content"),this.clearFormErrors(e),t!==this.currentEmail?$.ajax("/account/email_address",{type:"POST",dataType:"json",data:{email:t},headers:{"X-CSRF-Token":r},error:function(t){return function(r){var o;return t.unwrapErrors(e,i),t.clearFormErrors(e),e.siblings("label").wrap('<div class="field_with_errors" />'),e.wrap('<div class="field_with_errors" />'),o=JSON.parse(r.responseText),e.after("<p class='error-message'>"+o.error+"</p>")}}(this),success:function(t){return function(){return t.unwrapErrors(e,i),null==e.val()?t.clearFormErrors(e):void 0}}(this)}):void 0},e.prototype.verifyProfileName=function(){var t,e,i,r,o,s;return t=this.accountProfile,i=t.siblings("label"),o=t.val(),e=$(this.accountName[0]).val(),r=$(this.accountName[1]).val(),s=$("meta[name='csrf-token']").attr("content"),o!==this.accountProfileName?$.ajax("/account/profile_name",{type:"POST",dataType:"json",data:{profile_name:o,first_name:e,last_name:r},headers:{"X-CSRF-Token":s},error:function(e){return function(r){var o;return e.unwrapErrors(t,i),e.clearFormErrors(t),t.siblings("label").wrap('<div class="field_with_errors" />'),t.wrap('<div class="field_with_errors" />'),o=JSON.parse(r.responseText),t.val(o.suggestion),t.after("<p class='error-message'>"+o.error+"</p>")}}(this),success:function(e){return function(){return e.unwrapErrors(t,i),e.clearFormErrors(t)}}(this)}):void 0},e.prototype.suggestProfileName=function(){var t,e,i,r;return t=$(this.accountName[0]).val().toLowerCase(),i=$(this.accountName[1]).val().toLowerCase(),e=!!t,r=!!i,!this.accountProfile.val()&&e&&r&&(this.accountProfile.val(""+t+i),this.accountProfile.blur()),this.verifyProfileName()},e.prototype.unwrapErrors=function(){var t,e,i,r,o;for(e=1<=arguments.length?s.call(arguments,0):[],o=[],i=0,r=e.length;r>i;i++)t=e[i],t.closest("div").hasClass("field_with_errors")?o.push(t.unwrap()):o.push(void 0);return o},e.prototype.clearFormErrors=function(t){return t.siblings("p.error-message").remove()},e}(e),window.AccountForm=t}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Treehouse.View=function(){function e(e){this.clearElementsCache=t(this.clearElementsCache,this),this.cid=_.uniqueId("featurette-view-"),this.el=$(e),this.data=this.el.data(),this.elements=[]}return e.prototype.listeningTo=[],e.prototype.get=function(t){var e;return(e=this.elements)[t]||(e[t]=this.el.find(t))},e.prototype.clearElementsCache=function(){return this.elements=[]},e.prototype.on=function(t,e,i){return i?this.el.on(this.addNamespace(t),e,i):(i=e,this.el.on(this.addNamespace(t),i))},e.prototype.listenTo=function(t,e,i,r){return null==r&&(r={}),this.listeningTo=_.union(this.listeningTo,[t]),$(t).on(this.addNamespace(e),i),r.triggerImmediately?$(t).trigger(e):void 0},e.prototype.stopListening=function(){var t,e,i,r,o;for(this.el.off(this.addNamespace()),r=this.listeningTo,o=[],t=0,e=r.length;e>t;t++)i=r[t],o.push($(i).off(this.addNamespace()));return o},e.prototype.addNamespace=function(t){return null==t&&(t=""),t+"."+this.cid},e}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function r(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("alert",Treehouse.Alert=function(i){function r(e){this.closeAlert=t(this.closeAlert,this),r.__super__.constructor.apply(this,arguments),this.on("click","[data-close-alert]",this.closeAlert),this.el.hasClass("fixed")&&$("html").addClass("has-fixed-alert")}return e(r,i),r.prototype.closeAlert=function(t){return t.preventDefault(),this.el.addClass("closed"),0===$(".alert.fixed:not(.closed)").length?$("html.has-fixed-alert").addClass("closed-all-fixed-alerts"):void 0},r}(Treehouse.View))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function r(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("modal",Treehouse.Modal=function(i){function r(e){this.onKeyup=t(this.onKeyup,this),this.closeOverlay=t(this.closeOverlay,this),this.safeCloseOverlay=t(this.safeCloseOverlay,this),this.playVideo=t(this.playVideo,this),r.__super__.constructor.call(this,e),this.on("click",".modal-close, .modal-close-extra, [data-modal-close]",this.safeCloseOverlay),this.listenTo(document,"keyup",this.onKeyup)}return e(r,i),r.stack=[],r.closeCurrentModal=function(t){var e;return null==t&&(t={}),(e=this.stack.pop())&&(e.safeCloseOverlay(),t.stack)?this.addToStack(e):void 0},r.addToStack=function(t){return this.stack.push(t)},r.showLastModal=function(){var t;return null!=(t=this.stack.pop())?t.showOverlay({restoring:!0}):void 0},r.prototype.showOverlay=function(t){return null==t&&(t={}),this.constructor.closeCurrentModal({stack:t.stack}),this.constructor.addToStack(this),this.tarp().show(function(t){return function(){var e,i;return i="fixed"===t.el.css("position")?0:$(window).scrollTop(),e=i+$(window).height(),_.defer(function(){return $(window).scrollTop(i)}),t.el.show().css({top:e,opacity:0}).animate({top:i,opacity:1},150),t.el.addClass("modal-active"),t.el.trigger("modal:show"),t.el.data("modal-video-autoplay")&&t.playVideo(),t.isVisible=!0}}(this))},r.prototype.playVideo=function(){return this.el.find("video").trigger("play").on("ended",function(t){return function(){return t.closeOverlay()}}(this))},r.prototype.safeCloseOverlay=function(t){return null!=t&&t.preventDefault(),this.data.uncloseable?!0:this.closeOverlay()},r.prototype.closeOverlay=function(){return this.el.find("video").trigger("pause"),this.tarp().hide(),this.el.hide(),this.el.removeClass("modal-active"),this.el.trigger("modal:close"),this.isVisible=!1,this.constructor.stack.pop(),this.constructor.showLastModal()},r.prototype.onKeyup=function(t){return 27===t.which&&this.isVisible?this.safeCloseOverlay():void 0},r.prototype.tarp=function(){return this.tarpEl||(this.tarpEl=Featurette.get("tarp"))},r}(Treehouse.View))}.call(this),function(){var t,e=function(t,e){function r(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("help-modal",t=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.showOverlay=function(){return Featurette.get("help-form").resetContactForm(),i.__super__.showOverlay.apply(this,arguments)},i}(Treehouse.Modal))}.call(this),function(){var t,e=function(t,e){function r(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("tarp",t=function(t){function i(t){i.__super__.constructor.call(this,t),this.on("click touchstart",function(){return Treehouse.Modal.closeCurrentModal()})}return e(i,t),i.prototype.show=function(t){return this.el.css({opacity:0}).show().animate({opacity:1},100,t)},i.prototype.hide=function(){return this.el.hide()},i}(Treehouse.View))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Featurette.register("nav-select",function(){function e(e){this.updateLocation=t(this.updateLocation,this),this.el=$(e),this.el.on("change",this.updateLocation)}return e.prototype.updateLocation=function(t){return window.location=this.el.val()},e}())}.call(this),function(){Treehouse.queryString=function(){var t,e,i,r,o,s;if(i=new Object,o=location.href.split("?")[1],!o)return i;for(s=o.split("&"),t=0,e=s.length;e>t;t++)r=s[t],r=r.split("="),i[r[0]]=r[1];return i}}.call(this),function(){$(window).load(function(){var t,e,i,r,o;if(t=$("#wufoo-iframe"),t.length){switch(i=("undefined"!=typeof mixpanel&&null!==mixpanel&&"function"==typeof mixpanel.get_distinct_id?mixpanel.get_distinct_id():void 0)||null,e=t.data(),o="https://teamtreehouse.wufoo.com/embed/"+e.wufooId+"/def/"+e.params,e.wufooId){case"me3ji9m1xm4m71":r=7;break;case"mjrwmls039v4uo":r=28;break;case"q2ear5w101759j":r=7;break;case"q101qrky02yobg4":r=13}return t.attr("src",o+("&Field"+r+"=")+i)}})}.call(this),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["signup/field_error"]=new Hogan.Template({code:function(t,e,i){var r=this;return r.b(i=i||""),r.b("<p class='error-message'>"),r.b(r.v(r.f("error",t,e,0))),r.b("</p>"),r.b("\n"),r.fl()},partials:{},subs:{}},"",Hogan,{}),this.HoganTemplates||(this.HoganTemplates={}),this.HoganTemplates["signup/form_message"]=new Hogan.Template({code:function(t,e,i){var r=this;return r.b(i=i||""),r.b('<div class="global-message-container featurette in-app '),r.b(r.v(r.f("container_class",t,e,0))),r.b('" data-featurette="global-message-container" style="display: block;">'),r.b("\n"+i),r.b('  <div class="global-message">'),r.b("\n"+i),r.b('    <div class="row">'),r.b("\n"+i),r.b('      <div class="twelve columns">'),r.b("\n"+i),r.b("        <strong>Bummer!</strong> <p>"),r.b(r.v(r.f("message",t,e,0))),r.b("</p>"),r.b("\n"+i),r.b('        <a class="close-message"><span class="icon icon-close"></span></a>'),r.b("\n"+i),r.b("      </div>"),r.b("\n"+i),r.b("    </div>"),r.b("\n"+i),r.b("  </div>"),r.b("\n"+i),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"",Hogan,{}),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function r(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout=function(i){function r(e){this.moveMarkupToTarget=t(this.moveMarkupToTarget,this),this.moveMarkupOnTabletBreakpoint=t(this.moveMarkupOnTabletBreakpoint,this),this.isMobile=t(this.isMobile,this),this.isTablet=t(this.isTablet,this),this.toggleScrollingStates=t(this.toggleScrollingStates,this),this.scrollTo=t(this.scrollTo,this),this.getScrollTop=t(this.getScrollTop,this),this.setScrollTop=t(this.setScrollTop,this),this.loaded=t(this.loaded,this),this.loading=t(this.loading,this),this.setVariables=t(this.setVariables,this),r.__super__.constructor.apply(this,arguments),this.window=$(window),this.document=$(document),this.elements={},this.elements.hero=new Treehouse.Layout.Hero(this.el.find("[data-layout-element=hero]"),this),this.listenTo(document,"scroll",this.toggleScrollingStates,{triggerImmediately:!0}),this.listenTo(window,"resize",_.throttle(this.setVariables,750),{triggerImmediately:!0}),this.listenTo(window,"resize",_.throttle(this.moveMarkupOnTabletBreakpoint,750),{triggerImmediately:!0}),this.listenTo(window,"load",this.loaded)}return e(r,i),r.prototype.setVariables=function(){return this.windowWidth=this.window.width(),this.windowHeight=this.window.height(),this.documentHeight=this.document.height()},r.prototype.loading=function(){return this.el.addClass("loading").removeClass("loaded")},r.prototype.loaded=function(){return this.el.addClass("loaded").removeClass("loading")},r.prototype.setScrollTop=function(){return this.scrollTop=this.document.scrollTop()},r.prototype.getScrollTop=function(){return this.scrollTop},r.prototype.scrollTo=function(t){return $("html, body").animate({scrollTop:t-70,600:600})},r.prototype.toggleScrollingStates=function(){return this.setScrollTop(),this.el.toggleClass("scrolling",this.getScrollTop()>0),this.el.toggleClass("scrolling-down",(this.getScrollTop()>this.lastScrollPosition||this.getScrollTop()+this.windowHeight>=this.documentHeight)&&this.getScrollTop()>0),this.el.toggleClass("scrolling-up",this.getScrollTop()<this.lastScrollPosition&&this.getScrollTop()>0&&this.getScrollTop()+this.windowHeight<this.documentHeight),this.lastScrollPosition=this.getScrollTop()},r.prototype.isTablet=function(){return this.windowWidth<959},r.prototype.isMobile=function(){return this.windowWidth<679},r.prototype.moveMarkupOnTabletBreakpoint=function(){return!this.movedToTarget&&this.isTablet()?(this.moveMarkupToTarget(this.get("[data-markup-move]"),this.get("[data-markup-move-target]")),this.movedToTarget=!0,this.movedToOrigin=!1,this.window.trigger("resize")):this.movedToOrigin||!this.movedToTarget||this.isTablet()?void 0:(this.moveMarkupToTarget(this.get("[data-markup-move-target]"),this.get("[data-markup-move]")),this.movedToTarget=!1,this.movedToOrigin=!0,this.window.trigger("resize"))},r.prototype.moveMarkupToTarget=function(t,e){return e.html(t.contents().clone(!0)),t.html("")},r}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function r(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout.Hero=function(i){function r(e,i){this.layout=i,this.removeClass=t(this.removeClass,this),this.addClass=t(this.addClass,this),this.onVideoEnd=t(this.onVideoEnd,this),this.onVideoPause=t(this.onVideoPause,this),this.onVideoPlay=t(this.onVideoPlay,this),this.stopVideo=t(this.stopVideo,this),this.stopVideoOnEsc=t(this.stopVideoOnEsc,this),this.playVideo=t(this.playVideo,this),this.scrolling=t(this.scrolling,this),this.addBackground=t(this.addBackground,this),this.addVideoEvents=t(this.addVideoEvents,this),r.__super__.constructor.apply(this,arguments),this.el.length>0&&(this.on("click","[data-play-hero-video]",this.playVideo),this.on("click","button#hero-close-video",this.stopVideo),this.listenTo(document,"scroll",_.throttle(this.scrolling,750),{triggerImmediately:!0}),this.listenTo(document,"keyup",this.stopVideoOnEsc),this.addBackground(),this.addVideoEvents())}return e(r,i),r.prototype.addVideoEvents=function(){var t;return t=this.get("video"),t.length>0?(this.video=t.get(0),this.video.addEventListener("play",this.onVideoPlay),this.video.addEventListener("ended",this.onVideoEnd),this.video.addEventListener("pause",this.onVideoPause),this.listenTo(document,"video-playing",this.onVideoPlay),this.listenTo(document,"video-paused",this.onVideoPause),this.listenTo(document,"video-ended",this.onVideoEnd)):void 0},r.prototype.addBackground=function(){return this.get("img#hero-background").length>0&&this.el.css("background-image","url("+this.get("img#hero-background").attr("src")+")"),this.addClass("hero-loaded")},r.prototype.scrolling=function(t){return this.layout.el.toggleClass("scrolled-past-hero",$(document).scrollTop()>this.el.outerHeight())},r.prototype.playVideo=function(){return this.layout.el.hasClass("ipad")?(this.el.find(".mejs-overlay-play").click(),this.onVideoPlay()):this.get("video").trigger("play")},r.prototype.stopVideoOnEsc=function(t){return 27===t.which?this.stopVideo():void 0},r.prototype.stopVideo=function(){return this.get("video").trigger("stop"),this.addClass("hero-video-stopped")},r.prototype.onVideoPlay=function(t){return this.addClass("hero-video-playing hero-video-in-progress"),this.removeClass("hero-video-played hero-video-paused hero-video-stopped")},r.prototype.onVideoPause=function(t){return this.addClass("hero-video-paused"),this.removeClass("hero-video-playing")},r.prototype.onVideoEnd=function(t){return this.addClass("hero-video-played"),this.removeClass("hero-video-playing hero-video-paused hero-video-in-progress"),this.layout.el.hasClass("ios")?this.video.webkitExitFullScreen():void 0},r.prototype.addClass=function(t){return this.el.addClass(t),this.layout.el.addClass(t)},r.prototype.removeClass=function(t){return this.el.removeClass(t),this.layout.el.removeClass(t)},r}(Treehouse.View)}.call(this),function(){var t=function(t,i){function r(){this.constructor=t}for(var o in i)e.call(i,o)&&(t[o]=i[o]);return r.prototype=i.prototype,t.prototype=new r,t.__super__=i.prototype,t},e={}.hasOwnProperty;Featurette.register("marketing-layout",Treehouse.Layout.Marketing=function(e){function i(t){i.__super__.constructor.apply(this,arguments),this.elements.navigation=new Treehouse.Layout.Marketing.Navigation(this.el.find("[data-layout-element=navigation]"),this)}return t(i,e),i}(Treehouse.Layout))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function r(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Layout.Marketing.Navigation=function(i){function r(e,i){this.layout=i,this.toggleNavShelf=t(this.toggleNavShelf,this),r.__super__.constructor.apply(this,arguments),this.on("click","[data-nav-toggle]",this.toggleNavShelf)}return e(r,i),r.prototype.toggleNavShelf=function(t){return t.preventDefault(),this.layout.el.toggleClass("nav-shelf-expanded")},r}(Treehouse.View)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;Featurette.register("analytics-click-event",t=function(t){function r(t){this.sendEvent=e(this.sendEvent,this);var i;r.__super__.constructor.apply(this,arguments),i=["eventCategory","eventAction","eventLabel","eventValue"],this.eventAttrs=_.pick(this.data,i),this.data.target?this.on("click",this.data.target,this.sendEvent):this.on("click",this.sendEvent)}return i(r,t),r.prototype.sendEvent=function(t){return ga("send","event",this.eventAttrs)},r}(Treehouse.View))}.call(this),function(){var t,e,i=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function i(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;t=function(){function t(t){this.removeMessage=i(this.removeMessage,this),this.id=t.id,this.mikeId="mike",this.mikeSound="mike-sound",this.countCookie="mikeCounter",this.setupMike(),this.el=$(t),this.el.on("click",".close-message",this.removeMessage),$(document).on("scroll",this.removeMessage)}return t.prototype.setupMike=function(){return this.canPlayMp3()||this.canPlayOgg()?$("#"+this.mikeId).click(function(t){return function(){var e;return $("#"+t.id).slideToggle("fast"),e=parseInt($.cookie(t.countCookie))||0,e%10===0&&$("#"+t.mikeSound)[0].play(),$.cookie(t.countCookie,e+1)}}(this)):void 0},t.prototype.canPlayMp3=function(){var t;return t=document.createElement("audio"),!(!t.canPlayType||!t.canPlayType("audio/mpeg;").replace(/no/,""))},t.prototype.canPlayOgg=function(){var t;return t=document.createElement("audio"),!(!t.canPlayType||!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,""))},t.prototype.removeMessage=function(){return this.el.fadeOut(500),$("body").removeClass("global-message-displayed")},t}(),Featurette.register("global-message-container",t),e=function(t){function e(t){var e;this.id=t.id,e=$(t),this.key=e.attr("data-hide"),"true"!==$.cookie(this.key)&&e.show(),e.find(".close-message").click(function(){return this.key=e.attr("data-hide"),e.hide(),$.cookie(this.key,"true",{expires:365,path:"/"}),$("body").removeClass("global-message-displayed")})}return r(e,t),e}(t),Featurette.register("global-message-container-with-key",e)}.call(this),function(){var t;t=function(){function t(t){this.id=t.id,$(t).find("#contact-form .honey-pot-field").remove(),this.resetContactForm(),$(t).find("#contact-form").submit(function(t){return function(e){return t.handleSubmit(e)}}(this))}return t.prototype.resetContactForm=function(){var t;return t=$("#"+this.id),t.find("#contact-form input").add("#"+this.id+" #contact-form textarea").removeClass("field_with_errors"),t.find(".error-message").hide(),t.find(".message").hide(),window.element=t,this.hasBeenSubmitted&&t.find("#contact-form").show(),this.hasBeenSubmitted&&t.find(".form-footer .button").show(),this.hasBeenSubmitted=!1},t.prototype.handleSubmit=function(t){var e;return e=$("#"+this.id),this.resetContactForm(),e.find("#contact-form").hide(),e.find(".form-footer .button").hide(),e.find(".message.waiting").show(),$.ajax({url:"/contact.json",type:"POST",dataType:"json",data:e.find("form").serialize(),error:function(t){return function(t){return e.find(".message").hide(),e.find(".message.error").show()}}(this),success:function(t){return function(i){return e.find(".message").hide(),$.isEmptyObject(i.errors)?(e.find(".message.success").show(),t.hasBeenSubmitted=!0,e.find("#contact-form textarea").val("")):(e.find(".message.error").show(),e.find("#contact-form").show(),e.find(".form-footer .button").show(),$.each(i.errors,function(t,i){return e.find("#contact_form_"+t).addClass("field_with_errors").closest("div.form-item").find(".error-message").show().text(i[0])}))}}(this)}),t.preventDefault()},t}(),Featurette.register("help-form",t)}.call(this),function(){var t;t=function(){function t(t){var e;e=$(t),e.find(".play-button a").on("click",function(t){var i;return e.find(".video-feature").fadeOut(1e3),e.find(".video-feature-bryan").fadeOut(1e3),e.find(".video-feature-kavitha").fadeOut(1e3),i=Featurette.get(e.find("video").attr("id")),i.endCallback=function(){return e.find(".video-feature").fadeIn(1e3),e.find(".video-feature-bryan").fadeIn(1e3),e.find(".video-feature-kavitha").fadeIn(1e3)},i.player.play(),t.preventDefault()})}return t}(),Featurette.register("how-treehouse-works-video",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.requiredFields=e(this.requiredFields,this),this.form=$(t),this.contactEmailOnClick(),this.contactPhoneOnClick(),this.iePlaceholders(),this.requiredFields()}return t.prototype.contactEmailOnClick=function(){return $("#contact-email").click(function(){return $("#phone-email").val(""),$("#phone-email").attr("placeholder","Email Address"),$("#mailing-list-subscribe").removeClass("hide")})},t.prototype.contactPhoneOnClick=function(){return $("#contact-phone").click(function(){return $("#phone-email").val(""),$("#phone-email").attr("placeholder","Phone Number"),$("#mailing-list-subscribe").addClass("hide")})},t.prototype.requiredFields=function(){return this.form.submit(function(t){return $(this).find(".required").each(function(e){return function(e,i){return i=$(i),i.removeClass("error"),i.parents(".form-element").removeClass("error"),i.val()===i.attr("placeholder")||""===$.trim(i.val())?(t.preventDefault(),i.parents(".form-element").addClass("error"),i.addClass("error"),$(".alert-box").show()):void 0}}(this))})},t.prototype.iePlaceholders=function(){return $("[placeholder]").focus(function(){var t;return t=$(this),t.val()===t.attr("placeholder")?(t.val(""),t.removeClass("placeholder")):void 0}),$("[placeholder").blur(function(){var t;return t=$(this),""===t.val()||t.val()===t.attr("placeholder")?(t.addClass("placeholder"),t.val(t.attr("placeholder"))):void 0}),$("[placeholder").blur(),$("[placeholder]").parents("form").submit(function(){var t;return t=$(this),t.val()===t.attr("placeholder")?t.val(""):void 0})},t}(),Featurette.register("library-inquiry-form",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.locationSource=e(this.locationSource,this),this.el=$(t).autocomplete({minLength:5,source:this.locationSource,open:function(){return $(this).autocomplete("widget").zIndex(5)}})}return t.prototype.locationSource=function(t,e){return $.ajax({url:this.el.data("autocomplete-url"),data:{q:t.term},dataType:"json",success:e})},t}(),Featurette.register("location-autocomplete",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.always=e(this.always,this),this.fail=e(this.fail,this),this.done=e(this.done,this),this.submit=e(this.submit,this),this.element=$(t),this.form=this.element.find("form#"+this.element.data("form")),$(document).on("submit","#"+this.form.attr("id"),this.submit)}return t.prototype.submit=function(t){var e;return t.preventDefault(),e=$.ajax({cache:!1,type:"post",url:this.form.attr("action"),data:this.form.serialize(),dataType:"json"}),e.done(this.done),e.fail(this.fail),e.always(this.always)},t.prototype.done=function(t){return t.redirect?location.href=t.redirect:this.element.html(response.responseText),this.form.trigger("modal-form:done")},t.prototype.fail=function(t){var e,i,r;e=$.parseJSON(t.responseText).errors;for(i in e)r=e[i],this.form.find("[name$='["+i+"]']").after($("<div class='field_with_errors'><p class='error-message'>"+r.shift()+"</p></div>"));return this.form.trigger("modal-form:fail")},t.prototype.always=function(){return this.element.find(".form-item label:not(.prefill)").inFieldLabels()},t}(),Featurette.register("modal-form",t)}.call(this),function(){var t,e,i=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function i(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},o={}.hasOwnProperty;e=function(){function t(t){this.handleElementClick=i(this.handleElementClick,this),this.modal=i(this.modal,this),this.triggerModal=i(this.triggerModal,this),this.id=t.id,this.element=$(t),this.target=this.element.attr("data-target"),this.stack=this.element.data("stack"),this.element.attr("data-mobile-fallback")&&$(window).width()<=480||this.element.click(this.handleElementClick)}return t.prototype.triggerModal=function(){return this.element.trigger("modal:trigger"),this.modal().showOverlay({stack:this.stack})},t.prototype.modal=function(){return Featurette.get(this.target)},t.prototype.handleElementClick=function(t){return t.preventDefault(),this.triggerModal()},t}(),Featurette.register("modal-trigger",e),t=function(t){function e(t){this.loadAsyncModal=i(this.loadAsyncModal,this),this.handleElementClick=i(this.handleElementClick,this),e.__super__.constructor.call(this,t),this.src=this.element.data("src"),this.params=this.element.data("params")||{},this.loading=!1,this.element.data("disable-while-loading")||this.element.data("disable-while-loading","true"),this.parentLi=this.element.parent("li")}return r(e,t),e.prototype.handleElementClick=function(t){return this.loadAsyncModal(function(t){return function(){return t.triggerModal()}}(this)),t.preventDefault()},e.prototype.loadAsyncModal=function(t){var e;return this.loading&&this.element.data("disable-while-loading")===!0?!1:(this.loading=!0,this.element.addClass("loading"),this.parentLi.addClass("loading"),this.element.trigger("loading"),e=this.modal(),$.get(this.src,this.params,function(i){return function(r,o,s){return $(e.el).html(r),Featurette.load(),i.loading=!1,i.element.removeClass("loading"),i.parentLi.removeClass("loading"),i.element.trigger("loaded"),Treehouse.init(),t()}}(this)).fail(function(t){return function(t,e,i){return 401===t.status&&t.getResponseHeader("content-type").match("application/json")?location.href=$.parseJSON(t.responseText).redirect:void 0}}(this)))},e}(e),Featurette.register("async-modal-trigger",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){
function i(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;Featurette.register("paid-techdegree-registration-form",t=function(t){function r(t){this.displayBadResponseMessage=e(this.displayBadResponseMessage,this),this.hideErrorMessage=e(this.hideErrorMessage,this),this.displayErrorMessage=e(this.displayErrorMessage,this),this.successMessage=e(this.successMessage,this),this.displaySuccessMessage=e(this.displaySuccessMessage,this),this.numberOfSelectedDegrees=e(this.numberOfSelectedDegrees,this),this.handleFormResponse=e(this.handleFormResponse,this),this.submitForm=e(this.submitForm,this),r.__super__.constructor.apply(this,arguments),this.data.enrolled?this.displaySuccessMessage():(this.on("click",".button-primary",this.submitForm),this.on("click",".close-alert",this.hideErrorMessage))}return i(r,t),r.prototype.submitForm=function(t){var e,i;return t.preventDefault(),this.hideErrorMessage(),0===this.numberOfSelectedDegrees()?this.displayErrorMessage("Make sure you have made a selection before submitting."):(e=this.get("form"),i=this.data.url,$.ajax({type:"POST",url:i,data:e.serialize(),dataType:"json",success:this.handleFormResponse,error:this.displayBadResponseMessage}))},r.prototype.handleFormResponse=function(t){return t.success?this.displaySuccessMessage():"billing"===t.error?this.displayErrorMessage("We could not successfully bill your account. Please check your payment information and try again."):void 0},r.prototype.numberOfSelectedDegrees=function(){return this.el.find(":checked").length},r.prototype.displaySuccessMessage=function(){return this.get(".success-message").html(this.successMessage()),this.get("form").addClass("techdegree-waitlist-success"),this.get("input").prop("disabled",!0)},r.prototype.successMessage=function(){return this.numberOfSelectedDegrees>1?"We'll be in touch when the Techdegree you selected is ready for you.":"We'll be in touch when any of the Techdegrees you selected are ready for you."},r.prototype.displayErrorMessage=function(t){return this.get(".error-message").html(t),this.get("form").addClass("techdegree-waitlist-error")},r.prototype.hideErrorMessage=function(t){return null!=t&&t.preventDefault(),this.get("form").removeClass("techdegree-waitlist-error")},r.prototype.displayBadResponseMessage=function(){return this.displayErrorMessage("There was a problem saving your response. Please try again later or contact support.")},r}(Treehouse.View))}.call(this),function(){var t;t=function(){function t(t){this.element=$(t),this.details=$("#"+this.element.data("details")),this.element.find("a.btn-perks").on("click",function(t){return function(e){return e.preventDefault(),t.show()}}(this)),this.element.find(".selection a").on("click",function(t){return function(e){return e.preventDefault(),t.hide()}}(this)),this.details.find(".offer-close").on("click",function(t){return function(e){return e.preventDefault(),t.hide()}}(this)),this.details.find("form").on("submit",function(t){return function(e){return $.ajax({type:"post",url:t.details.find("form").attr("action"),headers:{"X-CSRF-Token":$("meta[name='csrf-token']").attr("content")},data:{_method:"PUT"},success:function(e){return t.details.find(".offer-form").hide(),t.details.find(".thank-you").show()}}),e.preventDefault()}}(this))}return t.prototype.show=function(){return $(".expanded:visible").each(function(e,i){return t.hideExpandedDetails($(i))}),$(".selection:visible").fadeOut(200),this.details.length>0?($(window).width()<=767&&(this.details.after('<div class="placeholder-'+this.details.attr("id")+'"></div>'),this.element.parent().after(this.details)),this.details.slideDown(200,function(t){return function(){return $("html, body").delay(200).animate({scrollTop:t.details.offset().top-100},200)}}(this)),this.element.find(".selection").fadeIn(200)):Featurette.get("perk-not-available").showOverlay()},t.prototype.hide=function(){return this.details.length>0?(this.element.find(".selection").fadeOut(200),t.hideExpandedDetails(this.details)):void 0},t.hideExpandedDetails=function(t){return t.slideUp(200,function(){return $(window).width()<=767?($(".placeholder-"+t.attr("id")).after(t),$(".placeholder-"+t.attr("id")).remove()):void 0})},t}(),Featurette.register("perk",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.scrollButton=e(this.scrollButton,this),this.scrollButton()}return t.prototype.scrollButton=function(){var t,e,i;return e=$('[data-featurette="scroll-button"]'),t=$("[data-scroll-stop]"),i=t.offset().top,e.on("click",function(t){return t.preventDefault(),$("html, body").animate({scrollTop:i},600)})},Featurette.register("scroll-button",t),t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function r(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.SignupForm=function(i){function r(e){this.clearFormErrors=t(this.clearFormErrors,this),this.unwrapErrors=t(this.unwrapErrors,this),this.setupCardTokenizer=t(this.setupCardTokenizer,this),this.displayValidationError=t(this.displayValidationError,this),this.displayCardTokenizerError=t(this.displayCardTokenizerError,this),this.displayFormError=t(this.displayFormError,this),this.displayValidationErrors=t(this.displayValidationErrors,this),this.finalizeForm=t(this.finalizeForm,this),this.validateFields=t(this.validateFields,this),this.onFormSubmit=t(this.onFormSubmit,this),this.togglePaymentMethod=t(this.togglePaymentMethod,this),this.switchToAnnual=t(this.switchToAnnual,this),this.switchToMonthly=t(this.switchToMonthly,this),r.__super__.constructor.apply(this,arguments),this.body=$("body"),this.form=this.get("form"),this.accountValidator=new Treehouse.AccountDetailsValidator(this.form),this.creditCardValidator=new Treehouse.CreditCardValidator(this.form),this.on("change","input[name='account_signup[payment_method]']",this.togglePaymentMethod),this.on("click","#show-trial-payment-info",this.toggleTrialPaymentInfo),this.on("mouseenter","#cvv-tooltip",this.showCvvTooltip),this.on("mouseleave","#cvv-tooltip",this.hideCvvTooltip),this.on("click","#subscribe_monthly",this.switchToMonthly),this.on("click","#subscribe_annually",this.switchToAnnual),this.on("submit",this.form,this.onFormSubmit),this.setupCardTokenizer(),this.togglePaymentMethod()}return e(r,i),r.prototype.switchToMonthly=function(){var t;return this.get("#subscribe_monthly").addClass("selected"),this.get("#subscribe_annually").removeClass("selected"),this.get("#monthly-checkmark").show(),this.get("#annual-checkmark").hide(),this.get("#account_signup_billing_period_monthly").attr("checked","yes"),t=$.trim($("#monthly-charge").html()),this.get("#footer-price").html(t)},r.prototype.switchToAnnual=function(){var t;return this.get("#subscribe_monthly").removeClass("selected"),this.get("#subscribe_annually").addClass("selected"),this.get("#monthly-checkmark").hide(),this.get("#annual-checkmark").show(),this.get("#account_signup_billing_period_annual").attr("checked","yes"),t=$.trim($("#annual-charge").html()),this.get("#footer-price").html(t)},r.prototype.showCvvTooltip=function(){return $(this).find(".tooltip").css("display","block")},r.prototype.hideCvvTooltip=function(){return $(this).find(".tooltip").hide()},r.prototype.toggleTrialPaymentInfo=function(t){return t.preventDefault(),this.get("#trial-payment-info").slideToggle()},r.prototype.togglePaymentMethod=function(){switch(this.paymentMethod=this.get("input[name='account_signup[payment_method]']").filter(":checked").val(),this.paymentMethod){case"paypal":return this.get(".bitcoin-chosen").hide(),this.get(".credit-card-chosen").hide(),this.get(".paypal-chosen").show();case"credit_card":return this.get(".paypal-chosen").hide(),this.get(".bitcoin-chosen").hide(),this.get(".credit-card-chosen").show();case"bitcoin":return this.get(".paypal-chosen").hide(),this.get(".credit-card-chosen").hide(),this.get(".bitcoin-chosen").show()}},r.prototype.onFormSubmit=function(t){return t.preventDefault(),t.stopPropagation(),this.validateFields()?"credit_card"===this.paymentMethod?this.cardTokenizer.tokenizeCard(this.get("#credit_card_number").val(),this.get("#credit_card_month").val(),this.get("#credit_card_year").val(),this.get("#credit_card_cvv").val()):this.finalizeForm():this.displayFormError("It looks like there was an error in the information you gave us. Take a look at your sign-up form for more details.")},r.prototype.validateFields=function(t){return this.clearFormErrors(),this.accountValidator.validate(),"credit_card"===this.paymentMethod&&"gte13"===this.get("#account_signup_age_check").val()&&this.creditCardValidator.validate(),this.errors=$.extend({},this.accountValidator.errors,this.creditCardValidator.errors),Object.keys(this.errors).length?(this.displayValidationErrors(),!1):!0},r.prototype.finalizeForm=function(){return this.get("#credit_card_number").val(""),this.get("#credit_card_cvv").val(""),this.form.get(0).submit()},r.prototype.displayValidationErrors=function(){var t,e,i,r;i=this.errors,r=[];for(e in i)t=i[e],r.push(this.displayValidationError(this.get("#"+e),t));return r},r.prototype.displayFormError=function(t){var e;return e=$(HoganTemplates["signup/form_message"].render({container_class:"global-message-error",message:t})),this.formError=new Featurette.registered_features["global-message-container"](e.get(0)),this.body.animate({scrollTop:0},0,function(t){return function(){return setTimeout(function(){return t.body.prepend(e)},100)}}(this))},r.prototype.displayCardTokenizerError=function(){return this.displayValidationError(this.get("#credit_card_number"),"There was a problem verifying your credit card details.")},r.prototype.displayValidationError=function(t,e){var i,r;return i=t,t.is("select")&&(i=t.parent()),i.siblings("label").wrap('<div class="field_with_errors" />'),i.wrap('<div class="field_with_errors" />'),r=HoganTemplates["signup/field_error"].render({error:e}),i.after(r)},r.prototype.setupCardTokenizer=function(){var t;return(t=this.form.data("tokenizer-config"))?this.cardTokenizer=new Treehouse.CreditCardTokenizer(this.form.get(0).id,{client_token:t.client_token,merchant_id:t.merchant_id,environment:BraintreeData.environments[t.environment]},this.finalizeForm,this.displayCardTokenizerError):void 0},r.prototype.unwrapErrors=function(){return this.get(".form-item").each(function(){var t;return t=$(this).find(".field_with_errors"),t.find("p.error-message").remove(),t.children().unwrap()})},r.prototype.clearFormErrors=function(){return this.creditCardValidator.clearErrors(),this.accountValidator.clearErrors(),this.hasErrors=!1,this.unwrapErrors()},r}(Treehouse.View),Featurette.register("signup-form",Treehouse.SignupForm)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};Featurette.register("info-tooltip",t=function(){function t(t){this.closeToolip=e(this.closeToolip,this),this.toggleTooltip=e(this.toggleTooltip,this),this.hideTooltip=e(this.hideTooltip,this),this.showTooltip=e(this.showTooltip,this),this.el=$(t),this.tooltip=this.el.find(".tooltip"),this.displaying=!1,"click"===this.el.data("event")?(this.el.on("click",this.toggleTooltip),$(document).on("click",this.closeToolip)):(this.tooltip.hide(),this.el.on("mouseover",this.showTooltip),this.el.on("mouseout",this.hideTooltip))}return t.prototype.showTooltip=function(t){return!this.displaying&&$(t.target).is(this.el)?(this.tooltip.show(),this.displaying=!0,t.stopPropagation()):void 0},t.prototype.hideTooltip=function(t){return this.displaying&&$(t.target).is(this.el)?(this.tooltip.hide(),this.displaying=!1,t.stopPropagation()):void 0},t.prototype.toggleTooltip=function(t){return t.stopPropagation(),this.tooltip.toggleClass("tooltip-showing").parent().siblings().children().removeClass("tooltip-showing"),this.el.toggleClass("tooltip-showing").siblings().removeClass("tooltip-showing")},t.prototype.closeToolip=function(t){return this.tooltip.removeClass("tooltip-showing"),this.el.removeClass("tooltip-showing")},t}())}.call(this),function(){Treehouse.Tooltip=function(){function t(t){var e;this.id=t.id,e=$(t),e.hide(),this.class_to_close=e.attr("data-class-to-close"),e.find(".close-tooltip").click(function(t){return function(){return t.close()}}(this)),"true"!==e.attr("data-hide")&&setTimeout(function(){return e.fadeIn()},200)}return t.prototype.close=function(){var t,e;return t=$("#"+this.id),t.fadeOut(),this.class_to_close&&$("."+this.class_to_close).fadeOut(),(e=t.attr("data-flag"))?$.post("/dashboard/flag",{_method:"PUT",flag:e}):void 0},t}(),Featurette.register("tooltip",Treehouse.Tooltip)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;Featurette.register("video-player",t=function(t){function r(t){this.storePlaybackPreferences=e(this.storePlaybackPreferences,this),this.onLanguageSelect=e(this.onLanguageSelect,this),this.onVolumeChanged=e(this.onVolumeChanged,this),this.exitFullScreen=e(this.exitFullScreen,this),this.launchSqlPlayground=e(this.launchSqlPlayground,this),this.launchConsole=e(this.launchConsole,this),this.launchWorkspace=e(this.launchWorkspace,this),this.addSqlPlaygroundButton=e(this.addSqlPlaygroundButton,this),this.addConsoleButton=e(this.addConsoleButton,this),this.addWorkspacesButton=e(this.addWorkspacesButton,this),this.rewind=e(this.rewind,this),this.getSpeedsHTML=e(this.getSpeedsHTML,this),this.addSpeedControls=e(this.addSpeedControls,this),this.addRewindButton=e(this.addRewindButton,this),this.getIcon=e(this.getIcon,this),this.getIcons=e(this.getIcons,this),this.appendButton=e(this.appendButton,this),this.prependButton=e(this.prependButton,this),this.updateButton=e(this.updateButton,this),this.getButtonHTML=e(this.getButtonHTML,this),this.markLongDurations=e(this.markLongDurations,this),this.timeContainers=e(this.timeContainers,this),this.durationInMinutes=e(this.durationInMinutes,this),this.updateControls=e(this.updateControls,this),this.reset=e(this.reset,this),this.setSpeed=e(this.setSpeed,this),this.onSpeedChange=e(this.onSpeedChange,this),this.transitionToPlaying=e(this.transitionToPlaying,this),this.transitionToPaused=e(this.transitionToPaused,this),this.onEnd=e(this.onEnd,this),this.ensureCorrectPlaybackRate=e(this.ensureCorrectPlaybackRate,this),this.trackVideoView=e(this.trackVideoView,this),this.sendViewingSegment=e(this.sendViewingSegment,this),this.trackViewingSegment=e(this.trackViewingSegment,this),this.setMuted=e(this.setMuted,this),this.setStartTime=e(this.setStartTime,this),this.addEvents=e(this.addEvents,this),this.setControlsSize=e(this.setControlsSize,this),this.toggleMaxWidthState=e(this.toggleMaxWidthState,this),this.setVideoHeight=e(this.setVideoHeight,this),this.onResize=e(this.onResize,this);var i;r.__super__.constructor.apply(this,arguments),this.stageProgressBar=$("[data-layout-element=stage-progress]"),this.accountMenu=$("#account-info"),this.videoMaxWidth=1280,this.cookieExpiration=1095,this.language=this.data.startLanguage||$.cookie("captionLanguage"),this.playbackRate=parseFloat(this.data.playbackRate||$.cookie("playbackRate")||1),this.resumeTime=parseInt(this.data.resume),this.data.autoplay&&(this.autoplay=!0),i={enableAutosize:!0,alwaysShowControls:this.el.hasClass("fixed-controls"),success:this.addEvents,startLanguage:this.language,setDimensions:!1,startVolume:$.cookie("volume")?$.cookie("volume"):1},this.data.playbackPreferencesUrl&&(this.playbackPreferencesUrl=this.data.playbackPreferencesUrl),this.player=new MediaElementPlayer(t,i),this.updateControls(),this.setMuted(),this.setSpeed(this.playbackRate),this.playing=!1,this.enableChromeFreezeFix(),this.resumeTime&&$("#resume-video-overlay").addClass("active"),this.sendViewingSegment=_.throttle(_.bind(this.sendViewingSegment,this),5e3),this.videoViewReported=!1,setInterval(function(t){return function(){return t.playing?t.sendViewingSegment(t.mejsObj.currentTime):void 0}}(this),15e3)}return i(r,t),r.prototype.speeds=[.5,.75,1,1.1,1.25,1.5,1.75,2],r.prototype.onResize=function(){return this.setVideoHeight(),this.toggleMaxWidthState()},r.prototype.setVideoHeight=function(){var t,e,i,r,o,s,n;return o=this.container.find("video"),n=$(window).height(),i=this.accountMenu.outerHeight(!0),r=this.stageProgressBar.height(),e=this.container.find(".mejs-controls").height(),t=i+r,s=this.player&&this.player.isFullScreen?n-e:n-t-e-30,o.css("max-height",s)},r.prototype.toggleMaxWidthState=function(){return this.container.toggleClass("max-width-reached",this.container.width()>this.videoMaxWidth+20)},r.prototype.setControlsSize=function(){return this.el.is(":visible")?(this.player.setControlsSize(),clearInterval(this.interval)):void 0},r.prototype.addEvents=function(t,e){var i;return this.container=this.el.parents(".mejs-container"),this.container.on("click",".mejs-rewind-button",this.rewind).on("click",".mejs-workspaces-button",this.launchWorkspace).on("click",".mejs-console-button",this.launchConsole).on("click",".mejs-sql-playground-button",this.launchSqlPlayground).on("click",".mejs-speed",this.onSpeedChange).on("change",".mejs-captions-selector input:radio",this.onLanguageSelect),this.mejsObj=t,t.addEventListener("loadedmetadata",this.setStartTime),t.addEventListener("pause",this.transitionToPaused),t.addEventListener("play",this.transitionToPlaying),t.addEventListener("timeupdate",this.trackViewingSegment),null!=t.playbackRate&&t.addEventListener("timeupdate",this.ensureCorrectPlaybackRate),t.addEventListener("ended",this.onEnd),t.addEventListener("volumechange",this.onVolumeChanged),this.interval=window.setInterval(this.setControlsSize,1e3),this.container.addClass(this.el.attr("class")),this.listenTo(window,"resize",_.throttle(this.onResize,750),{triggerImmediately:!0}),$(window).bind("beforeunload",function(t){return function(){t.sendViewingSegment(t.mejsObj.currentTime)}}(this)),this.autoplay&&(i=function(){return t.play()},_.delay(i,1e3)),this.listenTo(".start-video, .resume-video","click",function(e){return function(i){return e.startTime=$(i.currentTarget).hasClass("resume-video")?e.resumeTime:0,e.hideOverlays(),t.play()}}(this))},r.prototype.setStartTime=function(){return this.startTime?this.mejsObj.setCurrentTime(this.startTime):void 0},r.prototype.setMuted=function(){return this.mejsObj&&"true"===$.cookie("muted")?this.mejsObj.setMuted(!0):void 0},r.prototype.trackViewingSegment=function(t){return this.playing?(null==this.startTime?this.startTime=this.mejsObj.currentTime:Math.abs(this.currentTime-this.mejsObj.currentTime)>.6&&(this.sendViewingSegment(this.currentTime),this.startTime=this.mejsObj.currentTime),this.currentTime=this.mejsObj.currentTime):void 0},r.prototype.sendViewingSegment=function(t){return $("html").hasClass("logged-in")&&null!=this.startTime&&t>this.startTime?(t>=10&&this.trackVideoView(),$.ajax(this.data.trackVideoSegmentUrl,{type:"PUT",data:{admin_preview:this.data.adminPreview,preview:this.data.preview,started:this.startTime,ended:t},timeout:2e3}),this.startTime=null):void 0},r.prototype.trackVideoView=function(){return this.videoViewReported?void 0:(this.videoViewReported=!0,$.ajax(this.data.trackVideoViewUrl,{type:"PUT",timeout:2e3,data:{admin_preview:this.data.adminPreview,preview:this.data.preview}}).success(function(t){return function(t){return Treehouse.PointsCounter.updateTotalOnce()}}(this)).error(function(t){return function(e){return t.videoViewReported=!1}}(this)))},r.prototype.ensureCorrectPlaybackRate=function(t){return this.playbackRate!==this.player.media.playbackRate?this.setSpeed(this.playbackRate):void 0},r.prototype.onEnd=function(t){var e;return this.exitFullScreen(),e=$("#next-step-overlay"),e.addClass("active"),this.player.container.addClass("mejs-treehouse-is-ended").removeClass("mejs-treehouse-is-paused mejs-treehouse-is-playing"),$(document).trigger("video-ended"),!0},r.prototype.transitionToPaused=function(t){return this.playing=!1,this.sendViewingSegment(this.mejsObj.currentTime),this.player.container.addClass("mejs-treehouse-is-paused"),this.player.container.removeClass("mejs-treehouse-is-playing"),$(document).trigger("video-paused")},r.prototype.transitionToPlaying=function(t){return this.playing=!0,this.player.container.addClass("mejs-treehouse-is-playing"),this.player.container.removeClass("mejs-treehouse-is-paused"),this.setSpeed(this.playbackRate),$(document).trigger("video-playing"),setTimeout(this.maxWidthState,500)},r.prototype.onSpeedChange=function(t){return this.setSpeed($(t.currentTarget).data("speed"))},r.prototype.setSpeed=function(t){var e,i;return t!==this.playbackRate&&_.defer(this.storePlaybackPreferences),this.playbackRate=this.player.media.playbackRate=t,i=$("#"+this.player.id).find(".mejs-speed"),i.removeClass("current-speed"),i.filter("[data-speed='"+this.playbackRate+"']").addClass("current-speed"),e=$(".mejs-speed-button"),e.removeClass("mejs-speed-15x mejs-speed-2x"),this.playbackRate>=2?e.addClass("mejs-speed-2x"):this.playbackRate>=1.5?e.addClass("mejs-speed-15x"):void 0},r.prototype.reset=function(){try{return this.player.pause(),this.player.setCurrentTime(0)}catch(t){}},r.prototype.updateControls=function(){return this.updateButton("playpause",{icons:["play","pause"]}),this.updateButton("volume"),this.updateButton("captions"),this.updateButton("fullscreen"),this.addSpeedControls(),this.addRewindButton(),this.addConsoleButton(),this.addWorkspacesButton(),this.addSqlPlaygroundButton(),this.markLongDurations(),this.disableContextMenu()},r.prototype.disableContextMenu=function(){return $("#video-container, #video-container video").on("contextmenu",function(t){return t.preventDefault(),!1})},r.prototype.durationInMinutes=function(){return this.data.duration/1e3/60},r.prototype.timeContainers=function(){return this.player.container.find(".mejs-time")},r.prototype.markLongDurations=function(){return this.durationInMinutes()>=60?this.timeContainers().addClass("long-duration"):void 0},r.prototype.getButtonHTML=function(t,e){return'<div class="mejs-button mejs-'+t+'-button">'+e+"</div>"},r.prototype.updateButton=function(t,e){var i;return null==e&&(e={}),i=e.icons?e.icons:[t],$("#"+this.player.id).find(".mejs-"+t+"-button button").html(this.getIcons(i))},r.prototype.prependButton=function(t,e){return $("#"+this.player.id).find(".mejs-duration-container").after(this.getButtonHTML(t,e))},r.prototype.appendButton=function(t,e){return $("#"+this.player.id).find(".mejs-controls").append(HoganTemplates[t].render(e))},r.prototype.getIcons=function(t){var e;return e="",$(t).each(function(t){return function(i,r){return e+=t.getIcon(r)}}(this)),e},r.prototype.getIcon=function(t){return _.unescape(this.el.data(t+"-icon"))},r.prototype.addRewindButton=function(){return this.prependButton("rewind","<button>"+this.getIcon("rewind")+"</button>")},r.prototype.addSpeedControls=function(){return null!=this.player.media.playbackRate&&"flash"!==this.player.media.pluginType?this.prependButton("speed","<button>"+this.getIcon("speed")+'</button> <div class="mejs-speed-controls"> <ol>'+this.getSpeedsHTML()+"</ol> </div>"):void 0},r.prototype.getSpeedsHTML=function(){var t,e,i,r,o;for(o="",i=this.speeds.reverse(),t=0,e=i.length;e>t;t++)r=i[t],o+='<li class="mejs-speed" data-speed="'+r+'">'+r+'x <span class="speed-tooltip">'+r+"x</span></li>";return o},r.prototype.rewind=function(){return this.player.setCurrentTime(this.el.context.currentTime-10)},r.prototype.addWorkspacesButton=function(){var t;return this.el.data("workspaces")?(t=this.el.data("videoId"),this.appendButton("videos/launch_workspace",{videoId:t,icon:this.getIcon("workspaces")}),Treehouse.init()):void 0},r.prototype.addConsoleButton=function(){return this.el.data("console")?this.appendButton("videos/launch_console",{icon:this.getIcon("workspaces")}):void 0},r.prototype.addSqlPlaygroundButton=function(){return this.el.data("sql-playground-url")?this.appendButton("videos/launch_sql_playground",{icon:this.getIcon("workspaces")}):void 0},r.prototype.launchWorkspace=function(){return this.exitFullScreen()},r.prototype.launchConsole=function(){var t;return this.exitFullScreen(),t=window.open("https://console.teamtreehouse.com/window",null,"top=100,left=100,height=600,width=800,scrollbars=0,location=0,menubar=0,toolbar=0"),t?void 0:alert("It looks like your pop up blocker blocked the console window.")},r.prototype.launchSqlPlayground=function(){var t;return this.exitFullScreen(),t=window.open(this.el.data("sql-playground-url"),null,"top=100,left=100,height=600,width=1000,scrollbars=0,location=0,menubar=0,toolbar=0"),t?void 0:alert("It looks like your pop up blocker blocked the console window.")},r.prototype.exitFullScreen=function(){return this.player.isFullScreen?this.player.exitFullScreen():void 0},r.prototype.enableChromeFreezeFix=function(){return this.el.on("error",function(){var t,e;return e=this,t=e.currentTime,$(e).one("loadeddata",function(i){return function(){return e.currentTime=t}}(this)),setTimeout(function(t){return function(){return e.load()}}(this),100)})},r.prototype.onVolumeChanged=function(t){return $.cookie("volume",this.mejsObj.volume,{expires:this.cookieExpiration}),$.cookie("muted",this.mejsObj.muted,{expires:this.cookieExpiration})},r.prototype.onLanguageSelect=function(t){var e;return e=t.currentTarget.value,"none"===e&&(e=null),e!==this.language?(this.language=e,this.storePlaybackPreferences()):void 0},r.prototype.storePlaybackPreferences=function(){return $.cookie("captionLanguage",this.language,{expires:this.cookieExpiration}),$.cookie("playbackRate",this.playbackRate,{expires:this.cookieExpiration}),this.playbackPreferencesUrl?$.post(this.playbackPreferencesUrl,{language:this.language,playback_rate:this.playbackRate}):void 0},r.prototype.hideOverlays=function(){return $("#resume-video-overlay, #next-step-overlay").removeClass("active")},r}(Treehouse.View))}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function r(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.CircleProgress=function(i){function r(e){this.setProgress=t(this.setProgress,this),r.__super__.constructor.apply(this,arguments),this.progress=this.el.data("progress"),this.circumference=this.el.width()*Math.PI,this.progressBars=this.get("[data-progress-base-overlay], [data-progress-bar]"),this.setProgress(this.progress)}return e(r,i),r.prototype.setProgress=function(t){return this.progress=t,this.progressBars.attr("stroke-dashoffset",((100-this.progress)/100*this.circumference).toFixed(3)+"px")},r}(Treehouse.View),Featurette.register("circle-progress",Treehouse.CircleProgress)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;t=function(t){function r(t){this.onVideoEnd=e(this.onVideoEnd,this),this.mixpanelEvent=e(this.mixpanelEvent,this),this.loadFinalStep=e(this.loadFinalStep,this),this.revealHint=e(this.revealHint,this),this.resetFeedback=e(this.resetFeedback,this),this.resetSteps=e(this.resetSteps,this),this.loadStepTwo=e(this.loadStepTwo,this),this.checkStep=e(this.checkStep,this),this.reloadCourseModule=e(this.reloadCourseModule,this),this.closeCourseModule=e(this.closeCourseModule,this),this.loadCourseModule=e(this.loadCourseModule,this),r.__super__.constructor.apply(this,arguments),this.$hero=this.get("#hero-initial"),this.$courseVideo=this.get("#course-module-video"),this.$video=this.get("video"),this.$courseCC=this.get("#course-module-cc"),this.$courseCelebration=this.get("#course-celebration"),this.$feedback=this.get("#feedback"),this.$task=this.get("#task"),this.$taskCount=this.get("#task-count > span"),this.$codeModule=$('[data-course-module="code"]'),this.$hint=this.get(".hint-code"),this.$html=$("html"),this.$checkButton=this.get(".check-work"),this.$nextTask=this.get(".next-task"),this.$video=this.$courseVideo.find("video"),this.videoElement=this.$video.get(0),this.$videoControlsHeight=60,this.options={checkText:"Check Work",reCheckText:"Recheck Work",loadSpeed:400,fadeSpeed:200,task1:{message:"Write a headline for your page and wrap it in an <code>&lt;h1&gt;</code> tag.",regex:/\s*<h1>[\s\S]+<\/h1>\s*/i},task2:{message:"Write an HTML paragraph below your headline.",regex:/\s*<h1>[\s\S]+<\/h1>\s*<p>[\s\S]+<\/p>\s*/i}},this.on("click",'[data-course-module="start"]',this.loadCourseModule),this.on("click",'[data-course-module="close"]',this.closeCourseModule),this.on("click",'[data-course-module="reload"]',this.reloadCourseModule),this.on("click",'[data-course-module="check"]',this.checkStep),this.on("click",'[data-course-module="next"]',this.loadStepTwo),this.on("click",'[data-course-module="hint"]',this.revealHint),this.on("click",'[data-course-module="final"]',this.loadFinalStep),this.on("click","[data-mixpanel-event-title]",this.mixpanelEvent),this.videoElement.addEventListener("ended",this.onVideoEnd),this.$codeModule.on("keyup",function(t){return function(){return t.$hint.hasClass("show-hint")?t.$hint.removeClass("show-hint"):void 0}}(this))}return i(r,t),r.prototype.loadCourseModule=function(t){return t.preventDefault(),this.reloadCourseModule(t),this.$hero.fadeOut(this.options.fadeSpeed),this.$courseVideo.fadeIn(this.options.loadSpeed),this.$video.trigger("play"),this.$courseCC.fadeIn(this.options.loadSpeed),this.$courseCelebration.hide()},r.prototype.closeCourseModule=function(t){return t.preventDefault(),this.$courseVideo.fadeOut(this.options.fadeSpeed),this.$html.removeClass("hero-video-played hero-video-paused"),this.currentTask=0,this.$courseCC.fadeOut(this.options.loadSpeed),this.$hero.fadeIn(this.options.loadSpeed),this.resetSteps()},r.prototype.reloadCourseModule=function(t){return t.preventDefault(),this.$html.removeClass("hero-video-played"),this.currentTask=0,setTimeout(function(t){return function(){return t.$courseVideo.fadeIn(t.options.loadSpeed),t.$video.trigger("play"),t.$courseCelebration.fadeOut(t.options.loadSpeed),t.resetSteps()}}(this),this.options.loadSpeed)},r.prototype.checkStep=function(t){return t.preventDefault(),2===this.currentTask?this.options.task2.regex.test(this.$codeModule.val())?(this.$feedback.addClass("success"),this.$nextTask.text("Finish").attr("data-course-module","final")):(this.$feedback.addClass("error"),this.$checkButton.text(this.options.reCheckText)):this.options.task1.regex.test(this.$codeModule.val())?(this.currentTask=2,this.$feedback.addClass("success"),this.$hint.html(this.$hint1),this.$nextTask.attr("data-course-module","next")):(this.$feedback.addClass("error"),this.$checkButton.text(this.options.reCheckText))},r.prototype.loadStepTwo=function(t){return t.preventDefault(),this.resetFeedback(),this.$taskCount.text("2"),this.$task.html(this.options.task2.message),this.$hint.html("&lt;h1&gt;Title&lt;/h1&gt;<br>&lt;p&gt;Paragraph&lt;/p&gt;")},r.prototype.resetSteps=function(){return this.resetFeedback(),this.$nextTask.text("Next Task"),this.$taskCount.text("1"),this.$task.html(this.options.task1.message),this.$hint.html("&lt;h1&gt;Title&lt;/h1&gt;"),this.$codeModule.val("")},r.prototype.resetFeedback=function(){return this.$feedback.removeClass("success error"),this.$checkButton.text(this.options.checkText)},r.prototype.revealHint=function(t){return t.preventDefault(),this.$hint.addClass("show-hint"),setTimeout(function(t){return function(){return t.$hint.removeClass("show-hint")}}(this),5e3)},r.prototype.loadFinalStep=function(t){return t.preventDefault(),this.$courseCC.fadeOut(this.options.fadeSpeed),this.$courseVideo.fadeOut(this.options.fadeSpeed),this.$courseCelebration.fadeIn(this.options.loadSpeed),this.$html.removeClass("hero-video-played hero-video-paused"),mixpanel.track("Finished Course Module CC")},r.prototype.mixpanelEvent=function(t){var e;return e=$(t.currentTarget),mixpanel.track(e.data("mixpanel-event-title"))},r.prototype.onVideoEnd=function(){return mixpanel.track("Watched Course Module Video")},r}(Treehouse.View),Featurette.register("marketing-course-module",t)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function r(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,
t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;Featurette.register("tabbed-content",Treehouse.TabbedContent=function(i){function r(e){this.switchTabs=t(this.switchTabs,this),this.showContent=t(this.showContent,this),this.getContent=t(this.getContent,this);var i;r.__super__.constructor.apply(this,arguments),this.on("click","> .tabs ul li",this.switchTabs),i=this.data.currentTab||0,this.showContent(i)}return e(r,i),r.prototype.getContent=function(t){return this.el.find("> .tabbed-content > [data-tab-content]").eq(t)},r.prototype.showContent=function(t){var e;return e=this.getContent(t),e.trigger("tabs:show"),e.siblings().trigger("tabs:hide"),e.show().siblings().hide()},r.prototype.switchTabs=function(t){var e;return t.preventDefault(),e=$(t.currentTarget),e.addClass("current").siblings().removeClass("current"),this.showContent(e.index()),this.isMobile()?this.scrollTo(this.getContent(e.index()).offset().top):void 0},r}(Treehouse.Layout))}.call(this),function(){var t;t=function(){function t(t){this.element=$(t),this.element.find("#email").remove(),this.donateButton=$("#scrollButton_donate"),this.signupButton=$("#scrollButton_signup"),this.signUpTarget=this.element.find("#scrollTarget_signup"),this.signupOffset=this.signUpTarget.offset().top,this.donationForm=this.element.find("form#scrollTarget_donate"),this.donateOffset=this.donationForm.offset().top,this.signupButton.click(function(t){return function(e){return e.preventDefault(),$("html, body").animate({scrollTop:t.signupOffset},600)}}(this)),this.donateButton.click(function(t){return function(e){return e.preventDefault(),$("html, body").animate({scrollTop:t.donateOffset},600)}}(this)),this.donationForm.submit(function(t){return function(e){return e.preventDefault(),$("#donate-submit").attr("value","Submitting...").addClass("submitting"),$.post(t.donationForm.attr("action"),t.donationForm.serialize()).done(function(){return t.submittedSuccess()}).fail(function(){return t.submittedError()})}}(this)),setTimeout(function(t){return function(){return $(".animation-container").addClass("start-animation")}}(this),600)}return t.prototype.submittedSuccess=function(){return $("#donate-submit").attr("value","Get in touch").removeClass("submitting"),this.donationForm[0].reset(),$("#default-form-content").hide(),$("#success-form-content").show()},t.prototype.submittedError=function(){return $("#donate-submit").attr("value","Get in touch").removeClass("submitting"),$("#error-alert").show()},t}(),Featurette.register("bogo-page",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;t=function(t){function r(){this.scrollToForm=e(this.scrollToForm,this),this.onSubmit=e(this.onSubmit,this),this.initializeGoogleAnalyticsTracking=e(this.initializeGoogleAnalyticsTracking,this),r.__super__.constructor.apply(this,arguments),this.initializeGoogleAnalyticsTracking(),this.on("click","[value='Contact Us']",this.onSubmit),$("[data-button-orgs-form]").on("click",this.scrollToForm),$("#btn-success-close").on("click",this.closeSuccess),this.handleUrlParams(),this.form=this.get("#orgs-contact-form")}return i(r,t),r.prototype.closeSuccess=function(t){return t.preventDefault(),$("#success").fadeOut(300)},r.prototype.initializeGoogleAnalyticsTracking=function(){return this.on("change","input, textarea, select",function(){return ga("send","event",{eventCategory:"form",eventAction:"M: Entered Text",eventLabel:"Source: Organizations Page"})}),this.on("submit","form",function(){return ga("send","event",{eventCategory:"form",eventAction:"M: Submitted Form",eventLabel:"Source: Organizations Page"})}),$("[data-button-orgs-form]").on("click",function(){return ga("send","event",{eventCategory:"button",eventAction:"M: Clicked CTA",eventLabel:"Source: Organizations Page"})}),$("#team-benefits [data-tab-content]").on("tabs:show",function(){return ga("send","event",{eventCategory:"button",eventAction:"M: Clicked Tab",eventLabel:"Source: Organizations Page"})})},r.prototype.handleUrlParams=function(){return"school"===Treehouse.queryString().type&&(this.scrollToForm(),_.defer(function(t){return function(){return t.get("#contact-type-school").click()}}(this))),Treehouse.queryString().success?$(".organizations-action header #success").fadeIn(300):void 0},r.prototype.onSubmit=function(t){return t.preventDefault(),this.get(".error-message").hide(),this.setFirstAndLastName(),this.validateFields()?this.form.submit():void 0},r.prototype.validateFields=function(){var t,e;return t=new Array,e=["full_name","email","phone","company"],$.each(e,function(e){return function(i,r){var o,s;return s=e.get("[name='"+r+"']"),0===s.val().length?(t.push(r),o=s.parent().find(".error-message"),o.html("Please complete "+r),o.show()):void 0}}(this)),t.length>0?void 0:!0},r.prototype.setFirstAndLastName=function(){var t;return t=this.get("[name='full_name']").val().split(" "),t.length>1&&this.get("[name='last_name']").val(t.pop()),this.get("[name='first_name']").val(t.join(" "))},r.prototype.scrollToForm=function(){return $("html, body").animate({scrollTop:this.form.offset().top-40},800),this.form.addClass("highlight")},r}(Treehouse.View),Featurette.register("OrganizationLeadForm",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;t=function(t){function r(t){this.showTabOnLoad=e(this.showTabOnLoad,this),this.showTabContent=e(this.showTabContent,this),r.__super__.constructor.apply(this,arguments),this.on("click","[data-toggle]",this.showTabContent),this.showTabOnLoad()}return i(r,t),r.prototype.showTabContent=function(t){var e;return t.preventDefault(),this.currentTarget=$(t.currentTarget),e=this.currentTarget.data("toggle"),this.currentTarget.addClass("primary").siblings().removeClass("primary"),$("#"+e+"-container").addClass("selected").siblings().removeClass("selected"),window.location.hash=e},r.prototype.showTabOnLoad=function(){return"#who-uses-it"===window.location.hash?this.get('[data-toggle="who-uses-it"]').trigger("click"):"#how-it-works"===window.location.hash?this.get('[data-toggle="how-it-works"]').trigger("click"):void 0},r}(Treehouse.View),Featurette.register("marketing-features",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.scrollOffsetForEl=e(this.scrollOffsetForEl,this),this.onScroll=e(this.onScroll,this),this.el=$(t),$(window).on("scroll",this.onScroll)}return t.prototype.defaultScrollOffset=$(window).height()>620&&$(window).width()>640?160:0,t.prototype.onScroll=function(){var t,e,i,r,o,s;o=$(window).scrollTop(),s=$(window).height(),i=this.animations,r=[];for(e in i)t=i[e],r.push(t.call(this,o,s));return r},t.prototype.scrollOffsetForEl=function(t,e,i){return null==i&&(i=this.defaultScrollOffset),t.offset().top-e+i},t.prototype.animations={collectionViews:function(t,e){var i,r;return i=$("#collectionView"),r=this.scrollOffsetForEl(i,e-this.defaultScrollOffset),t>r?i.addClass("activated"):void 0},apis:function(t,e){var i,r;return i=$("#apis"),r=this.scrollOffsetForEl(i,e-this.defaultScrollOffset),t>r?i.addClass("activated"):void 0},gestures:function(t,e){var i,r;return i=$("#gestures"),r=this.scrollOffsetForEl(i,e-this.defaultScrollOffset),t>r?i.addClass("activated"):void 0}},t}(),Featurette.register("marketing-photo-bomber",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(t){this.scrollOffsetForEl=e(this.scrollOffsetForEl,this),this.onScroll=e(this.onScroll,this);var i;this.el=$(t),i=$(window).height(),$(window).on("scroll",this.onScroll),i>800&&$(document).trigger("scroll")}return t.prototype.defaultScrollOffset=100,t.prototype.onScroll=function(){var t,e,i,r,o,s;o=$(window).scrollTop(),s=$(window).height(),i=this.animations,r=[];for(e in i)t=i[e],r.push(t.call(this,o,s));return r},t.prototype.scrollOffsetForEl=function(t,e,i){return null==i&&(i=this.defaultScrollOffset),t.offset().top-e+i},t.prototype.animations={schoolsTracks:function(t,e){var i,r;return i=$('[data-trigger-animation="schools_tracks"]'),r=this.scrollOffsetForEl(i,e-this.defaultScrollOffset),t>r?i.addClass("activated"):void 0},schoolsResources:function(t,e){var i,r;return i=$('[data-trigger-animation="schools_resources"]'),r=this.scrollOffsetForEl(i,e-this.defaultScrollOffset),t>r?i.addClass("activated"):void 0},schoolsDash:function(t,e){var i,r;return i=$('[data-trigger-animation="schools_dash"]'),r=this.scrollOffsetForEl(i,e-this.defaultScrollOffset),t>r?i.addClass("activated"):void 0},schoolsDesk:function(t,e){var i,r;return i=$('[data-trigger-animation="schools_desk"]'),r=this.scrollOffsetForEl(i,e-this.defaultScrollOffset),t>r?i.addClass("activated"):void 0}},t}(),Featurette.register("marketing-schools",t)}.call(this),function(){var t;t=function(){function t(){$(".space-cat-play").on("click",function(){return $(".space-cat-trailer").removeClass("hide"),$(".hero-title").addClass("hide"),$(".mejs-mediaelement video").get(0).play()}),$(".close-video").on("click",function(){return $(".space-cat-trailer").addClass("hide"),$(".hero-title").removeClass("hide"),$(".mejs-mediaelement video").get(0).stop()})}return t}(),Featurette.register("marketing-space-cat",t)}.call(this),function(){var t;t=function(){function t(){$(".game-dev-play").on("click",function(){return $(".game-dev-trailer").removeClass("hide"),$(".hero-title").addClass("hide"),$(".mejs-mediaelement video").get(0).play()}),$(".close-video").on("click",function(){return $(".game-dev-trailer").addClass("hide"),$(".hero-title").removeClass("hide"),$(".mejs-mediaelement video").get(0).stop()})}return t}(),Featurette.register("marketing-game-dev",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;Featurette.register("see-think-do-v2",t=function(t){function r(t){this.playVideo=e(this.playVideo,this),r.__super__.constructor.apply(this,arguments),this.on("click",".play-button",this.playVideo)}return i(r,t),r.prototype.playVideo=function(){return this.get(".video-preview").addClass("hide"),this.get(".video-cta").addClass("hide"),this.get(".video-full").removeClass("hide"),this.get(".content-section .arrow").removeClass("hide"),this.get(".video-full video").play()},r}(Treehouse.View))}.call(this),function(){var t,e=function(t,e){function r(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;t=function(t){function i(t){i.__super__.constructor.apply(this,arguments),$.ajax("/track_visit",{type:"POST",data:{page:this.data.page},timeout:2e3})}return e(i,t),i}(Treehouse.View),Featurette.register("marketing-track-visit",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;t=function(t){function r(t){this.hideLoading=e(this.hideLoading,this),this.displayLoading=e(this.displayLoading,this),this.displayErrorMsg=e(this.displayErrorMsg,this),this.displaySuccessMsg=e(this.displaySuccessMsg,this),r.__super__.constructor.apply(this,arguments),this.on("ajax:success",this.displaySuccessMsg),this.on("ajax:error",this.displayErrorMsg),this.on("ajax:beforeSend",this.displayLoading),this.on("ajax:complete",this.hideLoading)}return i(r,t),r.prototype.displaySuccessMsg=function(t,e,i){var r;return $(".global-message-container").remove(),$("#success").toggle(),$("#email-form").toggle(),r=t.currentTarget[2].value,$("#opt-in-email").append(r)},r.prototype.displayErrorMsg=function(t,e,i){var r,o;return $(".global-message-container").remove(),o=422!==e.status?"We couldn't opt you in at this time. Please try again later.":"We couldn't opt you in. Please make sure you've provided a valid email address.",r=$(HoganTemplates["signup/form_message"].render({container_class:"global-message-error",message:o})),$("body").animate({scrollTop:0},0,function(t){return function(){return setTimeout(function(){return $("body").prepend(r),new Featurette.registered_features["global-message-container"]($(".global-message-container"))},100)}}(this))},r.prototype.displayLoading=function(){return $("#loading").toggle()},r.prototype.hideLoading=function(){return $("#loading").hide()},r}(Treehouse.View),Featurette.register("review-app-invitation",t)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function r(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.AccountDetailsValidator=function(i){function r(e){this.clearErrors=t(this.clearErrors,this),this.addError=t(this.addError,this),this.validateEmailAddress=t(this.validateEmailAddress,this),this.validateAccountEmail=t(this.validateAccountEmail,this),this.validateGuardianEmail=t(this.validateGuardianEmail,this),this.validatePasswordLength=t(this.validatePasswordLength,this),this.validatePostalCode=t(this.validatePostalCode,this),this.validatePresence=t(this.validatePresence,this),this.validate=t(this.validate,this),r.__super__.constructor.apply(this,arguments),this.fieldPrefix="account_signup",this.fields=["first_name","last_name","age_check","email","password"],this.clearErrors()}return e(r,i),r.prototype.validate=function(){return this.clearErrors(),this.validatePresence(),this.validatePasswordLength(),this.validatePostalCode(),this.validateAccountEmail(),this.validateGuardianEmail(),this.hasErrors},r.prototype.validatePresence=function(){var t,e,i,r;r=!0,i=this.fields;for(e in i)t=i[e],""===$("#"+this.fieldPrefix+"_"+t).val()&&(this.addError(t,"This is required."),r=!1);return r},r.prototype.validatePostalCode=function(){var t;return t=!0,"gte13"!==this.get("#"+this.fieldPrefix+"_age_check").val()||"credit_card"!==this.get("input[name='account_signup[payment_method]']").filter(":checked").val()?t:(0===this.get("#"+this.fieldPrefix+"_postal_code").val().length&&(this.addError("postal_code","This is invalid."),t=!1),t)},r.prototype.validatePasswordLength=function(){return this.get("#"+this.fieldPrefix+"_password").val().length<4?(this.addError("password","Your password is too short so it won't protect your account very well. Please enter at least 4 characters."),!1):!0},r.prototype.validateGuardianEmail=function(){var t;return t=!0,"lt13"!==this.get("#"+this.fieldPrefix+"_age_check").val()?t:this.validateEmailAddress("account_manager_email")},r.prototype.validateAccountEmail=function(){return this.validateEmailAddress("email")},r.prototype.validateEmailAddress=function(t){var e;return e=RegExp(/^[A-Z0-9_\.%\+\-']+@(?:[A-Z0-9\-]+\.)+(?:[A-Z]{2,13})$/i),e.test(this.get("#"+this.fieldPrefix+"_"+t).val())?!0:(this.addError(t,"This is invalid."),!1)},r.prototype.addError=function(t,e){return this.errors[this.fieldPrefix+"_"+t]=e,this.hasErrors=!0},r.prototype.clearErrors=function(){return this.hasErrors=!1,this.errors={}},r}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function r(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.CreditCardValidator=function(i){function r(e){this.clearErrors=t(this.clearErrors,this),this.addError=t(this.addError,this),this.validateLuhn=t(this.validateLuhn,this),this.validateCardNumber=t(this.validateCardNumber,this),this.validatePresence=t(this.validatePresence,this),this.validate=t(this.validate,this),r.__super__.constructor.apply(this,arguments),this.fieldPrefix="credit_card",this.fields=["number","cvv","month","year"],this.errors={}}return e(r,i),r.prototype.validate=function(){return this.clearErrors(),this.validatePresence()&&this.validateCardNumber()},r.prototype.validatePresence=function(){var t,e,i,r;r=!0,i=this.fields;for(e in i)t=i[e],""===this.get("#"+this.fieldPrefix+"_"+t).val()&&(this.addError(t,"This is required."),r=!1);return r},r.prototype.validateCardNumber=function(){var t;return t=new RegExp("^[0-9]{14,20}$"),t.test(this.get("#"+this.fieldPrefix+"_number").val())&&this.validateLuhn()?!0:(this.addError("number","There was a problem verifying your credit card details."),!1)},r.prototype.validateLuhn=function(){var t,e;return t=!0,e=_(this.get("#"+this.fieldPrefix+"_number").val().split("")).reduceRight(function(e,i){return i=parseInt(i),(t=!t)&&(i*=2),i>9&&(i-=9),e+i},0),e%10===0},r.prototype.addError=function(t,e){return this.errors[this.fieldPrefix+"_"+t]=e},r.prototype.clearErrors=function(){return this.errors={}},r}(Treehouse.View)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};Treehouse.CreditCardTokenizer=function(){function e(e,i,r,o){this.updateNonce=t(this.updateNonce,this),this.tokenizeCard=t(this.tokenizeCard,this),this.form=$("#"+e),this.paymentMethodNonce=this.form.find("[data-braintree-name=payment_method_nonce]"),this.successCallback=r,this.failureCallback=o,this.client=new braintree.api.Client({clientToken:i.client_token}),BraintreeData.setup(i.merchant_id,e,i.environment)}return e.prototype.tokenizeCard=function(t,e,i,r){return this.client.tokenizeCard({number:t,expirationDate:e+"/"+i,cvv:r},this.updateNonce)},e.prototype.updateNonce=function(t,e){return t?this.failureCallback():(this.paymentMethodNonce.val(e),this.successCallback())},e}()}.call(this),function(){null==Treehouse.Organizations&&(Treehouse.Organizations={})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function r(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Validator=function(i){function r(e){this.error=t(this.error,this),this.clearErrors=t(this.clearErrors,this),this.addError=t(this.addError,this),this.fieldKey=t(this.fieldKey,this),this.fieldValue=t(this.fieldValue,this),this.validateFormat=t(this.validateFormat,this),this.validatePresence=t(this.validatePresence,this),this.validateFields=t(this.validateFields,this),this.validate=t(this.validate,this),r.__super__.constructor.apply(this,arguments),this.clearErrors()}return e(r,i),r.prototype.validate=function(){return this.clearErrors(),this.validateFields(),this.validateAdditionalFields(),this.hasErrors},r.prototype.validateAdditionalFields=function(){},r.prototype.validateFields=function(){var t,e,i,r;i=this.fields,r=[];for(e in i)t=i[e],r.push(this.validatePresence(t));return r},r.prototype.validatePresence=function(t){return""===this.fieldValue(t)?this.addError(t,"This is required."):void 0},r.prototype.validateFormat=function(t,e){return e.test(this.fieldValue(t))?void 0:this.addError(t,"This is invalid.")},r.prototype.fieldValue=function(t){return this.get("#"+this.fieldKey(t)).val()},r.prototype.fieldKey=function(t){return this.prefix+"_"+t},r.prototype.addError=function(t,e){return this.errors[this.fieldKey(t)]=e,this.hasErrors=!0},r.prototype.clearErrors=function(){return this.hasErrors=!1,this.errors={}},r.prototype.error=function(t){var e,i;return e=this.fieldKey(t),this.errors[e]?(i={},i[""+e]=this.errors[e],i):{}},r}(Treehouse.View)}.call(this),function(){var t=function(t,i){function r(){this.constructor=t}for(var o in i)e.call(i,o)&&(t[o]=i[o]);return r.prototype=i.prototype,t.prototype=new r,t.__super__=i.prototype,t},e={}.hasOwnProperty;Treehouse.Organizations.OrganizationAdminValidator=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i.prototype.prefix="organization_signup_form",i.prototype.fields=["first_name","last_name","email","phone"],i}(Treehouse.Validator)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function r(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Organizations.OrganizationInfoValidator=function(i){function r(){return this.isLocatedInTheUS=t(this.isLocatedInTheUS,this),this.validatePostalCode=t(this.validatePostalCode,this),this.validateState=t(this.validateState,this),this.validateAdditionalFields=t(this.validateAdditionalFields,this),r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.prefix="organization_signup_form",r.prototype.fields=["organization_name","country","address","city"],r.prototype.validateAdditionalFields=function(){return this.validateState(),this.validatePostalCode()},r.prototype.validateState=function(){return this.isLocatedInTheUS()?this.validatePresence("state_province"):this.validatePresence("state_province_non_us")},r.prototype.validatePostalCode=function(){return this.isLocatedInTheUS()?this.validateFormat("postal_code",RegExp(/^\d{5}-\d{4}$|^\d{5}$/)):this.validatePresence("postal_code")},r.prototype.isLocatedInTheUS=function(){return"US"===this.get("#organization_signup_form_country").val()},r}(Treehouse.Validator)}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=function(t,e){function r(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i={}.hasOwnProperty;Treehouse.Organizations.SignupForm=function(i){function r(e){this.clearFormErrors=t(this.clearFormErrors,this),this.unwrapErrors=t(this.unwrapErrors,this),this.validateEmail=t(this.validateEmail,this),this.displayValidationErrors=t(this.displayValidationErrors,this),this.validateField=t(this.validateField,this),this.validateFields=t(this.validateFields,this),this.validateOrganizationInfo=t(this.validateOrganizationInfo,this),this.validateOrganizationAdmin=t(this.validateOrganizationAdmin,this),this.togglePaymentMethod=t(this.togglePaymentMethod,this),this.toggleStateInput=t(this.toggleStateInput,this),this.previousStep=t(this.previousStep,this),this.nextStep=t(this.nextStep,this),this.onFormSubmit=t(this.onFormSubmit,this),r.__super__.constructor.apply(this,arguments),this.form=this.get("form#org-signup-form"),this.organizationAdminValidator=new Treehouse.Organizations.OrganizationAdminValidator(this.form),this.organizationInfoValidator=new Treehouse.Organizations.OrganizationInfoValidator(this.form),this.el.addClass("org-signup-form--js-active org-signup-form--step-1-active"),this.on("click","[data-element=next-step]",this.nextStep),this.on("click","[data-element=previous-step]",this.previousStep),this.on("change","#organization_signup_form_country",this.toggleStateInput),this.toggleStateInput(),this.on("change","input[name='organization_signup_form[payment_method]']",this.togglePaymentMethod),this.togglePaymentMethod(),this.on("change","#organization_signup_form_organization_name",function(t){return function(){return t.validateField(t.organizationInfoValidator,"organization_name")}}(this)),this.on("change","#organization_signup_form_country",function(t){return function(){return t.validateField(t.organizationInfoValidator,"country")}}(this)),this.on("change","#organization_signup_form_address",function(t){return function(){return t.validateField(t.organizationInfoValidator,"address")}}(this)),this.on("change","#organization_signup_form_city",function(t){return function(){return t.validateField(t.organizationInfoValidator,"city")}}(this)),this.on("change","#organization_signup_form_state_province",function(t){return function(){return t.validateField(t.organizationInfoValidator,"state_province")}}(this)),this.on("change","#organization_signup_form_state_province_non_us",function(t){return function(){return t.validateField(t.organizationInfoValidator,"state_province_non_us")}}(this)),this.on("change","#organization_signup_form_postal_code",function(t){return function(){return t.validateField(t.organizationInfoValidator,"postal_code")}}(this)),this.on("change","#organization_signup_form_first_name",function(t){return function(){return t.validateField(t.organizationAdminValidator,"first_name")}}(this)),this.on("change","#organization_signup_form_last_name",function(t){return function(){return t.validateField(t.organizationAdminValidator,"last_name")}}(this)),this.on("change","#organization_signup_form_email",this.validateEmail),this.on("change","#organization_signup_form_phone",function(t){return function(){return t.validateField(t.organizationAdminValidator,"phone")}}(this)),this.on("mouseenter","#cvv-tooltip",this.showCvvTooltip),this.on("mouseleave","#cvv-tooltip",this.hideCvvTooltip),this.on("submit","form#org-signup-form",this.onFormSubmit)}return e(r,i),r.prototype.onFormSubmit=function(t){var e;return t.preventDefault(),this.validateOrganizationAdmin()?(e=this.validateEmail(),e.done(function(t){return function(){return t.form.get(0).submit()}}(this)),e.fail(function(t){return function(){return t.displayFormError()}}(this))):this.displayFormError()},r.prototype.nextStep=function(){return this.validateOrganizationInfo()?(this.el.removeClass("org-signup-form--step-1-active"),this.el.addClass("org-signup-form--step-2-active"),this.scrollToTop()):this.displayFormError()},r.prototype.previousStep=function(){return this.el.addClass("org-signup-form--step-1-active"),this.el.removeClass("org-signup-form--step-2-active"),this.scrollToTop()},r.prototype.scrollToTop=function(){return $(window).scrollTop(this.el.offset().top-110)},r.prototype.toggleStateInput=function(){return"US"===this.get("#organization_signup_form_country").val()?(this.get(".state-other-text").hide(),this.get(".state-us-select").show()):(this.get(".state-us-select").hide(),this.get(".state-other-text").show())},r.prototype.togglePaymentMethod=function(){switch(this.paymentMethod=this.get("input[name='organization_signup_form[payment_method]']").filter(":checked").val(),this.paymentMethod){case"credit_card":return this.get(".manual-chosen").hide(),this.get(".credit-card-chosen").show();case"manual":return this.get(".credit-card-chosen").hide(),this.get(".manual-chosen").show(),this.get("#org-signup-next-step").text("Request Account")}},r.prototype.showCvvTooltip=function(){return $(this).find(".tooltip").css("display","block")},r.prototype.hideCvvTooltip=function(){return $(this).find(".tooltip").hide()},r.prototype.validateOrganizationAdmin=function(){return this.validateFields(this.organizationAdminValidator)},r.prototype.validateOrganizationInfo=function(){return this.validateFields(this.organizationInfoValidator)},r.prototype.validateFields=function(t){return this.clearFormErrors(),t.validate(),this.displayValidationErrors(t.errors)},r.prototype.validateField=function(t,e){return this.clearFormError(e),t.validate(),this.displayValidationErrors(t.error(e))},r.prototype.displayValidationErrors=function(t){var e,i;if(Object.keys(t).length){for(i in t)e=t[i],this.displayValidationError(this.get("#"+i),e);return!1}return!0},r.prototype.validateEmail=function(){var t,e,i;return e=this.get("#organization_signup_form_email"),t=e.val(),i=$("meta[name='csrf-token']").attr("content"),this.clearFormErrors(),$.ajax("/organizations/validate_email_address",{type:"POST",dataType:"json",data:{email:t},headers:{"X-CSRF-Token":i},error:function(t){return function(i){var r;return t.clearFormErrors(),r=JSON.parse(i.responseText),t.displayValidationError(e,r.error)}}(this)})},r.prototype.displayValidationError=function(t,e){var i,r;return i=t,t.is("select")&&(i=t.parent()),i.siblings("label").wrap('<div class="field_with_errors" />'),i.wrap('<div class="field_with_errors" />'),r=HoganTemplates["signup/field_error"].render({error:e}),i.after(r)},r.prototype.displayFormError=function(){var t,e;return e="It looks like there was an error in the information you gave us. Take a look at your sign-up form for more details.",t=$(HoganTemplates["signup/form_message"].render({container_class:"global-message-error",message:e})),new Featurette.registered_features["global-message-container"](t.get(0)),$(document.body).animate({scrollTop:0},0,function(){return setTimeout(function(){return $(document.body).prepend(t)},100)})},r.prototype.unwrapErrors=function(){return this.get(".form-item").each(function(t){return function(e,i){return t.unwrapError($(i).find(".field_with_errors"))}}(this))},r.prototype.unwrapError=function(t){return t?(t.find("p.error-message").remove(),t.children().unwrap()):void 0},r.prototype.clearFormErrors=function(){return this.organizationAdminValidator.clearErrors(),this.organizationInfoValidator.clearErrors(),this.unwrapErrors()},r.prototype.clearFormError=function(t){var e;return e=$("#organization_signup_form_"+t).closest(".field_with_errors"),this.unwrapError(e)},r}(Treehouse.View),Featurette.register("Treehouse.Organizations.SignupForm",Treehouse.Organizations.SignupForm)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;t=function(t){function r(){this.validateFields=e(this.validateFields,this),this.validateField=e(this.validateField,this),this.onSubmit=e(this.onSubmit,this),r.__super__.constructor.apply(this,arguments),this.on("submit","#contact-form",this.onSubmit),this.on("change",".required-lead-info",this.validateField),this.leadSource=this.el.data("lead-source")}return i(r,t),r.prototype.onSubmit=function(t){return t.preventDefault(),this.get(".error-message").hide(),this.setFirstAndLastName(),this.setLeadSource(),this.validateFields()?void 0:!1},r.prototype.setFirstAndLastName=function(){var t;return t=this.get("[name='lead[full_name]']").val().split(" "),t.length>1&&this.get("[name='lead[last_name]']").val(t.pop()),this.get("[name='lead[first_name]']").val(t.join(" "))},r.prototype.setLeadSource=function(){return this.get("[name='lead[lead_source]']").val(this.leadSource)},r.prototype.validateField=function(t){var e,i;return i=$(t.currentTarget),e=i.closest(".form-item").find(".error-message"),0===i.val().length?this.displayError(e):e.hide()},r.prototype.displayError=function(t){return t.html("This is required."),t.show()},r.prototype.validateFields=function(){var t,e;return t=new Array,e=this.get(".required-lead-info"),$.each(e,function(e){return function(i,r){var o,s;return o=$(r),0===o.val().length?(t.push(r),s=o.closest(".form-item").find(".error-message"),e.displayError(s)):void 0}}(this)),t.length>0?void 0:this.sendLeadToCRM()},r.prototype.sendLeadToCRM=function(){var t;return t=this.get("#contact-form"),$.ajax({url:t.attr("action"),type:"POST",data:t.serialize(),success:function(e){return function(){return $(t).remove(),e.get(".success-banner").removeClass("hidden")}}(this),error:function(t){return function(){return t.get(".error-banner").removeClass("hidden")}}(this)})},r}(Treehouse.View),Featurette.register("org-signup-contact-form",t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function i(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;t=function(t){function r(t){this.submit=e(this.submit,this),r.__super__.constructor.apply(this,arguments),this.on("submit","form",this.submit)}return i(r,t),r.prototype.submit=function(t){return t.preventDefault(),$.pjax.submit(t,"#techdegree-registration-container",{push:!1,scrollTo:!1})},r}(Treehouse.View),Featurette.register("techdegree-registration-form",t)}.call(this),Treehouse.init();